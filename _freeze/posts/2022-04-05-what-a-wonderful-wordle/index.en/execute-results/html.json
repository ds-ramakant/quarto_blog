{
  "hash": "c556a2b1a812210d849851edbf7c37f6",
  "result": {
    "markdown": "---\ntitle: \"What a wonderful 'wordle'!\"\nauthor: \"Ramakant\"\ndate: '2022-04-05'\ncategories: [R]\ntags: [wordle] \nsubtitle: Best opening words for Wordle (as per me!)\nsummary: 'Frequency analysis of the official Wordle list'\nauthors: [Me]\nlastmod: '2022-04-05T16:15:24+05:30'\nfeatured: no\nimage: \"Wordle Sample Share.jpg\"\nprojects: []\n---\n\n\nWho ever thought that a bunch of [black and green boxes](https://www.nytimes.com/games/wordle/index.html) would bring out the logophile in us all? With friends and family groups sharing their progress, I find this to be an entertaining mind-puzzle to kickstart the day.\n\nAnd I was not alone in my quest for 5 letter words. Wordle has tickled the fascination of many in the data science community. I found [Arthur Holtz's lucid breakdown of the Wordle dataset](https://rviews.rstudio.com/2022/02/21/wordle-data-analysis/) quite interesting. Of course, there is 3B1B's incredibly detailed videos on applying Information Theory to this 6-by-5 grid. ([original video](https://youtu.be/v68zYyaEmEA) as well as the [follow-up errata](https://youtu.be/fRed0Xmc2Wg))\n\nOthers have simulated the wordle game ([like here](https://datascienceplus.com/how-i-selected-my-starting-word-for-wordle-using-simulations-and-r/)) or even solved it for you ([like this blog](https://blog.ephorie.de/wordle-solve-wordle-with-r)). I've read at least [one blog post](https://theconversation.com/want-to-master-wordle-heres-the-best-strategy-for-your-first-guess-176325) that has an academic take on the matter.\n\nFortunately for the reader, none of the above will be attempted by me. My inspiration comes from [Gerry Chng's Frequency Analysis Approach](https://towardsdatascience.com/wordle-a-frequency-analysis-approach-9989c3d7be5f) where I've tried to understand the most commonly occuring letters in the official word list by position by considering a ranking mechanism\n\n## What is a wordle?\n\nThe game rules are fairly simple:\n\n1.  You need to guess a 5-letter word. One new word is given every day\n2.  You are given 6 guesses\n3.  After every guess, each square is coded by a color\n    -   GREY: chosen letter is not in the word\n    -   YELLOW: chosen letter is in the word by wrong position\n    -   GREEN: chosen letter is in the word and in the correct position\n4.  Repetition of letters is allowed\n\nThat's it!\n\nIn my opinion, one of the reasons for the game going viral is the way the results are shared. You've possibly seen something like this floating around:\n\n![Sample world share](Wordle%20sample%20share.jpg){width=\"267\"}\n\n...And if your family too has been bitten hard by the Wordle bug, then you would be familiar with group messages like this!\n\n![World share in whatsapp](wordle%20share%20whatsapp.jpg){width=\"134\"}\n\n## Frequency analysis\n\n[Arthur Hotlz's blog](https://rviews.rstudio.com/2022/02/21/wordle-data-analysis/) is a good place to start for extracting and loading the Official Wordle list. After parsing and cleaning the data, here's all the words broken down into a single rectangular dataframe `word_list` .\n\n*Update 29th Jan '23: NYT's .js file is not retrieving any list for some reason. I've referred to [Arjun Vikram's repo](https://dagshub.com/arjvik/wordle-wordlist) on dagshub*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::opts_chunk$set(warning = FALSE, message = FALSE) \nsuppressMessages({ \nlibrary(httr)\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(ggplot2)\nlibrary(ggthemes)\nlibrary(scales)\nlibrary(tidyr)\nlibrary(tibble)\nlibrary(forcats)\nlibrary(knitr)\nlibrary(kableExtra)\ntheme_set(theme_light())\n})\n\nurl <- \"https://www.nytimes.com/games/wordle/main.18637ca1.js\" #not working\nurl2 <- \"https://dagshub.com/arjvik/wordle-wordlist/raw/e8d07d33a59a6b05f3b08bd827385604f89d89a0/answerlist.txt\"\nwordle_script_text <- GET(url2) %>% \n  content(as = \"text\", encoding = \"UTF-8\")\n# word_list = substr(\n#   wordle_script_text,\n#   # cigar is the first word\n#   str_locate(wordle_script_text, \"cigar\")[,\"start\"],\n#   # shave is the last word\n#   str_locate(wordle_script_text, \"shave\")[,\"end\"]) %>%\n#   str_remove_all(\"\\\"\") %>%\n#   str_split(\",\") %>%\n#   data.frame() %>%\n#   select(word = 1) %>%\n#   mutate(word = toupper(word))\n\n\nwordle_list <- str_split(wordle_script_text, \"\\n\")\n\nwordle_list <- data.frame(wordle_list) \n\nwordle_list <- rename(wordle_list, word = names(wordle_list)[1] ) %>% mutate(word = toupper(word)) #renaming column to 'word'\n\ndim(wordle_list)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2310    1\n```\n:::\n\n```{.r .cell-code}\nhead(wordle_list)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   word\n1 CIGAR\n2 REBUT\n3 SISSY\n4 HUMPH\n5 AWAKE\n6 BLUSH\n```\n:::\n:::\n\n\nModification to the above is another dataframe with each of the characters separated into columns which we'll call `position_word_list`\n\n*The line `select(-x)` removes the empty column that is created due to the `seperate()` function*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nposition_word_list <- wordle_list %>% \n  separate(word, \n           sep = \"\", \n           into = c(\"x\",\"p1\",\"p2\",\"p3\",\"p4\",\"p5\")) %>% \n  select(-x)\nhead(position_word_list,10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   p1 p2 p3 p4 p5\n1   C  I  G  A  R\n2   R  E  B  U  T\n3   S  I  S  S  Y\n4   H  U  M  P  H\n5   A  W  A  K  E\n6   B  L  U  S  H\n7   F  O  C  A  L\n8   E  V  A  D  E\n9   N  A  V  A  L\n10  S  E  R  V  E\n```\n:::\n:::\n\n\nNow onto some frequency analysis. Here's a breakdown of all the letters in the wordle list sorted by number of occurrences stored in `letter_list` and creating a simple bar graph.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nletter_list <- wordle_list %>%\n  as.character() %>%\n  str_split(\"\") %>% \n  as.data.frame() %>% \n  select(w_letter = 1) %>% \n  filter(row_number()!=1) %>%\n  filter(w_letter %in% LETTERS) %>% \n  mutate(type = case_when(w_letter %in% c(\"A\",\"E\",\"I\",\"O\",\"U\") ~ \"vowel\",\n                          T ~ \"consonant\")) %>% \n  group_by(w_letter, type) %>% \n  summarise(freq = n()) %>% \n  arrange(desc(freq))\n\nletter_list %>% ungroup() %>% \n  ggplot(aes(x = reorder(w_letter, -freq), y = freq))+\n  geom_col(aes(fill = type))+\n  scale_y_continuous(labels = comma)+\n  geom_text(aes(label = freq), \n            size = 3)+\n  labs(x = \"Letter\", y = \"Frequency\",\n       title = \"Frequency of letters in Official Wordle list\")\n```\n\n::: {.cell-output-display}\n![](index.en_files/figure-html/graph-1.png){width=672}\n:::\n:::\n\n\nThis is interesting. Now I'm curious to know the top words by each position. To do this, I created a single table called `freq_table` that provides me with the frequency of occurrences by position for each letter. To iterate this process across all the 5 places, I used a `for` loop. Output is generated via the `kableExtra` package which provides a neat scrollable window\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#declaring null table\nfreq_table <- tibble(alpha = LETTERS)\n\nfor(i in 1:5){\n    test <- position_word_list %>% \n    select(all_of(i)) %>%\n# group_by_at() used for column index ID\n    group_by_at(1) %>% \n    summarise(f = n()) %>% \n    arrange(desc(f)) %>% \n#first column returns p1, p2.. etc and is standardised\n    rename(a = 1) \n\n#adding the freq values to a new dataframe\n    freq_table <- freq_table %>%\n    left_join(test, by = c(\"alpha\" = \"a\")) \n\n#renaming column name to reflect the position number\n    colnames(freq_table)[1+i] = paste0(\"p\",i)\n    rm(test)\n}\n#replacing NA with zero\nfreq_table[is.na(freq_table)] <- 0 \n#output using kable's scrollable window \nkable(freq_table, \n      format = \"html\", \n      caption = \"Frequency Table\") %>%\n    kable_styling() %>%\n    scroll_box(width = \"70%\", height = \"300px\") %>% \n  kable_classic()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div style='border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:70%;  font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;' class=\" lightable-classic\"><table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Frequency Table</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> alpha </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> p1 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> p2 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> p3 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> p4 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> p5 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:right;\"> 140 </td>\n   <td style=\"text-align:right;\"> 304 </td>\n   <td style=\"text-align:right;\"> 306 </td>\n   <td style=\"text-align:right;\"> 162 </td>\n   <td style=\"text-align:right;\"> 63 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> B </td>\n   <td style=\"text-align:right;\"> 173 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> C </td>\n   <td style=\"text-align:right;\"> 198 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 150 </td>\n   <td style=\"text-align:right;\"> 31 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> D </td>\n   <td style=\"text-align:right;\"> 111 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> 69 </td>\n   <td style=\"text-align:right;\"> 118 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> E </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 241 </td>\n   <td style=\"text-align:right;\"> 177 </td>\n   <td style=\"text-align:right;\"> 318 </td>\n   <td style=\"text-align:right;\"> 422 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> F </td>\n   <td style=\"text-align:right;\"> 135 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 35 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> G </td>\n   <td style=\"text-align:right;\"> 115 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 67 </td>\n   <td style=\"text-align:right;\"> 76 </td>\n   <td style=\"text-align:right;\"> 41 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> H </td>\n   <td style=\"text-align:right;\"> 69 </td>\n   <td style=\"text-align:right;\"> 144 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 28 </td>\n   <td style=\"text-align:right;\"> 137 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> I </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 201 </td>\n   <td style=\"text-align:right;\"> 266 </td>\n   <td style=\"text-align:right;\"> 158 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> J </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> K </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 55 </td>\n   <td style=\"text-align:right;\"> 113 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> L </td>\n   <td style=\"text-align:right;\"> 87 </td>\n   <td style=\"text-align:right;\"> 200 </td>\n   <td style=\"text-align:right;\"> 112 </td>\n   <td style=\"text-align:right;\"> 162 </td>\n   <td style=\"text-align:right;\"> 155 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> M </td>\n   <td style=\"text-align:right;\"> 107 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 61 </td>\n   <td style=\"text-align:right;\"> 68 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> N </td>\n   <td style=\"text-align:right;\"> 37 </td>\n   <td style=\"text-align:right;\"> 87 </td>\n   <td style=\"text-align:right;\"> 137 </td>\n   <td style=\"text-align:right;\"> 182 </td>\n   <td style=\"text-align:right;\"> 130 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> O </td>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 279 </td>\n   <td style=\"text-align:right;\"> 243 </td>\n   <td style=\"text-align:right;\"> 132 </td>\n   <td style=\"text-align:right;\"> 58 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> P </td>\n   <td style=\"text-align:right;\"> 141 </td>\n   <td style=\"text-align:right;\"> 61 </td>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:right;\"> 50 </td>\n   <td style=\"text-align:right;\"> 56 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Q </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> R </td>\n   <td style=\"text-align:right;\"> 105 </td>\n   <td style=\"text-align:right;\"> 267 </td>\n   <td style=\"text-align:right;\"> 163 </td>\n   <td style=\"text-align:right;\"> 150 </td>\n   <td style=\"text-align:right;\"> 212 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> S </td>\n   <td style=\"text-align:right;\"> 365 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 80 </td>\n   <td style=\"text-align:right;\"> 171 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> T </td>\n   <td style=\"text-align:right;\"> 149 </td>\n   <td style=\"text-align:right;\"> 77 </td>\n   <td style=\"text-align:right;\"> 111 </td>\n   <td style=\"text-align:right;\"> 139 </td>\n   <td style=\"text-align:right;\"> 253 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> U </td>\n   <td style=\"text-align:right;\"> 33 </td>\n   <td style=\"text-align:right;\"> 185 </td>\n   <td style=\"text-align:right;\"> 165 </td>\n   <td style=\"text-align:right;\"> 82 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> V </td>\n   <td style=\"text-align:right;\"> 43 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 49 </td>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> W </td>\n   <td style=\"text-align:right;\"> 82 </td>\n   <td style=\"text-align:right;\"> 44 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> X </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Y </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 364 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Z </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\nThis table looks good. However, for my visualisation, I want to plot the top 10 letters in each position. For this, I'm going to use `pivot_longer()` to make it easier to generate the viz.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfreq_table_long10 <- freq_table %>% \n  pivot_longer(cols = !alpha, names_to = \"position\", values_to = \"freq\") %>% \n  select(position, alpha, freq) %>% \n  arrange(position, -freq) %>% \n  group_by(position) %>% \n  slice_head(n = 10) %>% ungroup\n\nkable(freq_table_long10, \n      format = \"html\", \n      caption = \"Top 10 letters within each position\") %>%\n    kable_styling() %>%\n    scroll_box(height = \"200px\") %>% \n  kable_classic()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div style='border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:200px;  font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;' class=\" lightable-classic\"><table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top 10 letters within each position</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> position </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> alpha </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> freq </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> p1 </td>\n   <td style=\"text-align:left;\"> S </td>\n   <td style=\"text-align:right;\"> 365 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p1 </td>\n   <td style=\"text-align:left;\"> C </td>\n   <td style=\"text-align:right;\"> 198 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p1 </td>\n   <td style=\"text-align:left;\"> B </td>\n   <td style=\"text-align:right;\"> 173 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p1 </td>\n   <td style=\"text-align:left;\"> T </td>\n   <td style=\"text-align:right;\"> 149 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p1 </td>\n   <td style=\"text-align:left;\"> P </td>\n   <td style=\"text-align:right;\"> 141 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p1 </td>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:right;\"> 140 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p1 </td>\n   <td style=\"text-align:left;\"> F </td>\n   <td style=\"text-align:right;\"> 135 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p1 </td>\n   <td style=\"text-align:left;\"> G </td>\n   <td style=\"text-align:right;\"> 115 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p1 </td>\n   <td style=\"text-align:left;\"> D </td>\n   <td style=\"text-align:right;\"> 111 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p1 </td>\n   <td style=\"text-align:left;\"> M </td>\n   <td style=\"text-align:right;\"> 107 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p2 </td>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:right;\"> 304 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p2 </td>\n   <td style=\"text-align:left;\"> O </td>\n   <td style=\"text-align:right;\"> 279 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p2 </td>\n   <td style=\"text-align:left;\"> R </td>\n   <td style=\"text-align:right;\"> 267 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p2 </td>\n   <td style=\"text-align:left;\"> E </td>\n   <td style=\"text-align:right;\"> 241 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p2 </td>\n   <td style=\"text-align:left;\"> I </td>\n   <td style=\"text-align:right;\"> 201 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p2 </td>\n   <td style=\"text-align:left;\"> L </td>\n   <td style=\"text-align:right;\"> 200 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p2 </td>\n   <td style=\"text-align:left;\"> U </td>\n   <td style=\"text-align:right;\"> 185 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p2 </td>\n   <td style=\"text-align:left;\"> H </td>\n   <td style=\"text-align:right;\"> 144 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p2 </td>\n   <td style=\"text-align:left;\"> N </td>\n   <td style=\"text-align:right;\"> 87 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p2 </td>\n   <td style=\"text-align:left;\"> T </td>\n   <td style=\"text-align:right;\"> 77 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p3 </td>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:right;\"> 306 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p3 </td>\n   <td style=\"text-align:left;\"> I </td>\n   <td style=\"text-align:right;\"> 266 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p3 </td>\n   <td style=\"text-align:left;\"> O </td>\n   <td style=\"text-align:right;\"> 243 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p3 </td>\n   <td style=\"text-align:left;\"> E </td>\n   <td style=\"text-align:right;\"> 177 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p3 </td>\n   <td style=\"text-align:left;\"> U </td>\n   <td style=\"text-align:right;\"> 165 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p3 </td>\n   <td style=\"text-align:left;\"> R </td>\n   <td style=\"text-align:right;\"> 163 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p3 </td>\n   <td style=\"text-align:left;\"> N </td>\n   <td style=\"text-align:right;\"> 137 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p3 </td>\n   <td style=\"text-align:left;\"> L </td>\n   <td style=\"text-align:right;\"> 112 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p3 </td>\n   <td style=\"text-align:left;\"> T </td>\n   <td style=\"text-align:right;\"> 111 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p3 </td>\n   <td style=\"text-align:left;\"> S </td>\n   <td style=\"text-align:right;\"> 80 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p4 </td>\n   <td style=\"text-align:left;\"> E </td>\n   <td style=\"text-align:right;\"> 318 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p4 </td>\n   <td style=\"text-align:left;\"> N </td>\n   <td style=\"text-align:right;\"> 182 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p4 </td>\n   <td style=\"text-align:left;\"> S </td>\n   <td style=\"text-align:right;\"> 171 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p4 </td>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:right;\"> 162 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p4 </td>\n   <td style=\"text-align:left;\"> L </td>\n   <td style=\"text-align:right;\"> 162 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p4 </td>\n   <td style=\"text-align:left;\"> I </td>\n   <td style=\"text-align:right;\"> 158 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p4 </td>\n   <td style=\"text-align:left;\"> C </td>\n   <td style=\"text-align:right;\"> 150 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p4 </td>\n   <td style=\"text-align:left;\"> R </td>\n   <td style=\"text-align:right;\"> 150 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p4 </td>\n   <td style=\"text-align:left;\"> T </td>\n   <td style=\"text-align:right;\"> 139 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p4 </td>\n   <td style=\"text-align:left;\"> O </td>\n   <td style=\"text-align:right;\"> 132 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p5 </td>\n   <td style=\"text-align:left;\"> E </td>\n   <td style=\"text-align:right;\"> 422 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p5 </td>\n   <td style=\"text-align:left;\"> Y </td>\n   <td style=\"text-align:right;\"> 364 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p5 </td>\n   <td style=\"text-align:left;\"> T </td>\n   <td style=\"text-align:right;\"> 253 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p5 </td>\n   <td style=\"text-align:left;\"> R </td>\n   <td style=\"text-align:right;\"> 212 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p5 </td>\n   <td style=\"text-align:left;\"> L </td>\n   <td style=\"text-align:right;\"> 155 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p5 </td>\n   <td style=\"text-align:left;\"> H </td>\n   <td style=\"text-align:right;\"> 137 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p5 </td>\n   <td style=\"text-align:left;\"> N </td>\n   <td style=\"text-align:right;\"> 130 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p5 </td>\n   <td style=\"text-align:left;\"> D </td>\n   <td style=\"text-align:right;\"> 118 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p5 </td>\n   <td style=\"text-align:left;\"> K </td>\n   <td style=\"text-align:right;\"> 113 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> p5 </td>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:right;\"> 63 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\nSo we have the \\# of occurences in each position laid out in a *tidy* format in one long rectangular dataframe. Now sprinkling some magic courtesy `ggplot`\n\n### Side note on reordering within facets\n\n*I tried my best to understand why I was unable to sort within each facet in spite of using `free_y`. Apparently that's a known issue and a workaround has been discussed by [David Robinson](https://github.com/dgrtwo/drlib/blob/master/R/reorder_within.R), [Julia Silger](https://juliasilge.github.io/tidytext/reference/reorder_within.html) and [Tyler Rinker](https://trinkerrstuff.wordpress.com/2016/12/23/ordering-categories-within-ggplot2-facets/). To achieve this, two more functions need to be created `reorder_within` and `scale_y_reordered`*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreorder_within <- function(x, by, within, fun = mean, sep = \"___\", ...) {\n  new_x <- paste(x, within, sep = sep)\n  stats::reorder(new_x, by, FUN = fun)\n}\n\nscale_y_reordered <- function(..., sep = \"___\") {\n  reg <- paste0(sep, \".+$\")\n  ggplot2::scale_y_discrete(labels = function(x) gsub(reg, \"\", x), ...)\n}\n\nfreq_table_long10 %>% \n  mutate(type = case_when(alpha %in% c(\"A\",\"E\",\"I\",\"O\",\"U\") ~ \"vowel\",\n                          T ~ \"consonant\")) %>% \n  ggplot(aes(y = reorder_within(alpha, freq, position), x = freq))+\n  geom_col(aes(fill = type))+\n  scale_y_reordered()+\n  facet_wrap(~position, \n             scales = \"free_y\", \n             ncol = 5)+\n  labs(x = \"Frequency\", y = \"Letter\",\n       title = \"Frequency of top 10 letters by position in Official Wordle list \",\n       caption = \"D.S.Ramakant Raju\\nwww.linkedin.com/in/dsramakant/\")\n```\n\n::: {.cell-output-display}\n![](index.en_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\nAha! Things are starting to get more clearer. Highly common letters in the 1st position are **S, C, B, T and P** - notice there's only 1 vowel (**A**) that occurs in the top 10. Vowels appear more frequently in the 2nd and 3rd positions. Last position has a higher occurrence of **E, Y, T, R & L**\n\n## Which words can be the best Worlde openers?\n\nArmed with the above knowledge, we now can filter out the commonly occurring words. Also I use a naive method to rank these words basis the occurrence of the letters. For instance, in the picture above, the word **S A I N T** seems to be a valid word comprising of the top occurring letters.\n\nAdmittedly, I use a pretty crude method to determine the best openers. Known drawbacks of this methodology are:\n\n1.  Doesn't consider the *future path* of the word (number of steps to get to the right word)\n2.  Only considers the rank of the letters and not the actual probability of occurrence\n\nWith that out of the way, I was able to determine that there are **39 words** that can be formed with the top 5 occurring letters in each position. I've created a **score** that is determined by the rank of each letter within its position. For instance, **S A I N T** gets a score of 9 by summing up 1 (S in first position) + 1 (A in second position) + 2 (I in third) + 2 (N in fourth) + 3 (T in fifth). The lower the score, the higher the frequency of occurrences. Scroll below to read the rest of the words.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#function to pick the top 5 letters\ntop5_selection <- function(x)\n{x %>% arrange(desc(x[2])) %>% head(5) %>% select(1)}\n#defining null table\nfinal_grid <- tibble(ranking = 1:5)\n\nfor(i in 2:length(freq_table)){\n  t <- top5_selection(select(freq_table,1,all_of(i)))\n  final_grid <- cbind(final_grid,t)\n  colnames(final_grid)[i] = paste0(\"p\",i-1)\n}\ntopwords <- position_word_list %>% \nfilter(p1 %in% final_grid$p1,\n       p2 %in% final_grid$p2,\n       p3 %in% final_grid$p3,\n       p4 %in% final_grid$p4,\n       p5 %in% final_grid$p5) \n\n#finding consolidated score of each word\ntopwords %<>%\n  rowwise() %>% \n  mutate(p1_rank = which(p1 == final_grid$p1),\n         p2_rank = which(p2 == final_grid$p2),\n         p3_rank = which(p3 == final_grid$p3),\n         p4_rank = which(p4 == final_grid$p4),\n         p5_rank = which(p5 == final_grid$p5))\n\ntopwords2 <- topwords %>% \n  transmute(word = paste0(p1,p2,p3,p4,p5),\n         score = sum(p1_rank, p2_rank,p3_rank, p4_rank, p5_rank)) %>% \n  arrange(score)\n\nkable(topwords2, \n      format = \"html\",\n      caption = \"Top 39 words\") %>%\n    kable_styling() %>%\n    scroll_box(width = \"50%\", height = \"400px\") %>% \n  kable_classic()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div style='border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; overflow-x: scroll; width:50%;  font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;' class=\" lightable-classic\"><table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top 39 words</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> word </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> score </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> SAINT </td>\n   <td style=\"text-align:right;\"> 9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CRANE </td>\n   <td style=\"text-align:right;\"> 9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> COAST </td>\n   <td style=\"text-align:right;\"> 11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BRINE </td>\n   <td style=\"text-align:right;\"> 11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CEASE </td>\n   <td style=\"text-align:right;\"> 11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CRONE </td>\n   <td style=\"text-align:right;\"> 11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CAUSE </td>\n   <td style=\"text-align:right;\"> 12 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CRIER </td>\n   <td style=\"text-align:right;\"> 12 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BRINY </td>\n   <td style=\"text-align:right;\"> 12 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BOAST </td>\n   <td style=\"text-align:right;\"> 12 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TAINT </td>\n   <td style=\"text-align:right;\"> 12 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CRONY </td>\n   <td style=\"text-align:right;\"> 12 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TEASE </td>\n   <td style=\"text-align:right;\"> 13 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> POISE </td>\n   <td style=\"text-align:right;\"> 13 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TOAST </td>\n   <td style=\"text-align:right;\"> 13 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> PAINT </td>\n   <td style=\"text-align:right;\"> 13 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BOOST </td>\n   <td style=\"text-align:right;\"> 14 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> POINT </td>\n   <td style=\"text-align:right;\"> 14 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> COUNT </td>\n   <td style=\"text-align:right;\"> 14 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> PRONE </td>\n   <td style=\"text-align:right;\"> 14 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BEAST </td>\n   <td style=\"text-align:right;\"> 14 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> PRINT </td>\n   <td style=\"text-align:right;\"> 15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> PAUSE </td>\n   <td style=\"text-align:right;\"> 15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TAUNT </td>\n   <td style=\"text-align:right;\"> 15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> PROSE </td>\n   <td style=\"text-align:right;\"> 15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CREST </td>\n   <td style=\"text-align:right;\"> 15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CRUST </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BRIAR </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BOULE </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> POESY </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CRUEL </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> PRUNE </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BRUNT </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TRUER </td>\n   <td style=\"text-align:right;\"> 17 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TREAT </td>\n   <td style=\"text-align:right;\"> 18 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TRIAL </td>\n   <td style=\"text-align:right;\"> 18 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TRUST </td>\n   <td style=\"text-align:right;\"> 18 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TRULY </td>\n   <td style=\"text-align:right;\"> 19 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TROLL </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\nThere we have it. My take on the best opening words.\n\nI've used words such as **SAINT, CRANE, COAST** etc and they've been reasonably useful to me.\n\nWhich are your favourite opening words? Please do leave a comment to let me know!\n",
    "supporting": [
      "index.en_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}